CREATE TABLE [dbo].[users] (
    [Id]        INT            IDENTITY (1, 1) NOT NULL,
    [firstName] TEXT           NOT NULL,
    [lastName]  TEXT           NOT NULL,
    [email]     NVARCHAR (80)  NOT NULL,
    [password]  NVARCHAR (MAX) NOT NULL,
    [studieID]  INT            NOT NULL,
    [status]    TINYINT        NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC)
);

CREATE TABLE [dbo].[admins] (
    [Id]        INT           IDENTITY (1, 1) NOT NULL,
    [firstName] TEXT          NOT NULL,
    [lastName]  TEXT          NOT NULL,
    [email]     NVARCHAR (80) NOT NULL,
    [password]  NVARCHAR (70) NOT NULL,
    [usertype]  TINYINT NOT NULL,
    [studieID]  INT           NULL,
    [status]    TINYINT       NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC)
);
CREATE TABLE [dbo].[Files] (
    [Id]            INT  IDENTITY (1, 1) NOT NULL,
    [Name]          TEXT NOT NULL,
    [FileExtension] TEXT NOT NULL,
    [Path]          TEXT NOT NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC)
);

CREATE TABLE [dbo].[studies] (
    [Id]        INT           IDENTITY (1, 1) NOT NULL,
    [naam]      NVARCHAR (50) NOT NULL,
    [priority]  INT           NOT NULL,
    [description] TEXT        NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC)
);

CREATE TABLE [dbo].[courses] (
    [Id]           INT           IDENTITY (1, 1) NOT NULL,
    [naam]         NVARCHAR (50) NOT NULL,
    [jaar]       TINYINT           NOT NULL,
    [period]       INT           NOT NULL,
    [studieID]     INT           NOT NULL,
    [priority]     INT           NOT NULL,
    [subfolder]    INT           DEFAULT ((0)) NOT NULL,
    [maincourseID] INT           NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC)
);

CREATE TABLE [dbo].[subcourses] (
    [Id]          INT           IDENTITY (1, 1) NOT NULL,
    [naam]        NVARCHAR (50) NOT NULL,
    [courseID]    INT           NOT NULL,
    [subcourseID] INT           NOT NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC)
);

CREATE TABLE [dbo].[course_items] (
    [Id]          INT           IDENTITY (1, 1) NOT NULL,
    [naam]        NVARCHAR (50) NOT NULL,
    [CourseID]    INT           NOT NULL,
    [description] TEXT          NULL,
    [priority]  INT           NOT NULL,
    [filename]    VARCHAR (255) NULL,
    [type]        VARCHAR(50) NOT NULL,
    [timeAdded]  DateTime NOT NULL,
    [deadline]  DateTime  NULL,
    [timeAddedVisible]  TINYINT NOT NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC)
);

CREATE TABLE [dbo].[enrolled] (
    [Id]        INT           IDENTITY (1, 1) NOT NULL,
    [usertype]  TINYINT       NOT NULL,
    [CourseID]  INT           NOT NULL,
    [UserId]    INT           NOT NULL,
    [status]    TINYINT          NULL,
    [resultaat]    TINYINT          NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC)
);

CREATE TABLE [dbo].[opdrachten] (
    [Id]       INT      IDENTITY (1, 1) NOT NULL,
    [ItemID] INT      NOT NULL,
    [UserId]   INT      NOT NULL,
    [usertype] TINYINT  NOT NULL,
    [cijfer]   INT      DEFAULT ((0)) NOT NULL,
    [status]   TINYINT  NULL,
    [submitted] DATETIME NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC)
);

CREATE TABLE [dbo].[opdracht_course]
(
	[Id] INT NOT NULL PRIMARY KEY IDENTITY (1, 1), 
    [naam] VARCHAR(50) NOT NULL, 
    [courseID] INT NOT NULL
);

CREATE TABLE [dbo].[becijfering] (
    [Id]        INT           IDENTITY (1, 1) NOT NULL,
    [usertype]   NVARCHAR (20) NOT NULL,
    [CourseID]  INT           NOT NULL,
    [StudentId]    INT           NOT NULL,
    [AssessorId] INT           NOT NULL,
    [status]    TINYINT          NULL,
    [delivered] DATETIME      NULL,
    [cijfer] DECIMAL      NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC)
);

CREATE TABLE [dbo].[cijfers] (
    [Id]        INT           IDENTITY (1, 1) NOT NULL,
    [Cijfer]  DECIMAL          NOT NULL,
    [resultaat]    NVARCHAR           NOT NULL,
    [CourseID]  INT           NOT NULL,
    [OpdrachtID]  INT           NOT NULL,
    [CijferID]  INT           NOT NULL,
    [StudentId]    INT           NOT NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC)
);
